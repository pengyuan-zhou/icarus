"""This module contains all configuration information used to run simulations
    """
from multiprocessing import cpu_count
from collections import deque
import copy
from icarus.util import Tree

# GENERAL SETTINGS

# Level of logging output
# Available options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL = 'INFO'

# If True, executes simulations in parallel using multiple processes
# to take advantage of multicore CPUs
PARALLEL_EXECUTION = True

# Number of processes used to run simulations in parallel.
# This option is ignored if PARALLEL_EXECUTION = False
N_PROCESSES = cpu_count()

# Granularity of caching.
# Currently, only OBJECT is supported
CACHING_GRANULARITY = 'OBJECT'

# Format in which results are saved.
# Result readers and writers are located in module ./icarus/results/readwrite.py
# Currently only PICKLE is supported
RESULTS_FORMAT = 'PICKLE'

# Number of times each experiment is replicated
# This is necessary for extracting confidence interval of selected metrics
N_REPLICATIONS = 3

# List of metrics to be measured in the experiments
# The implementation of data collectors are located in ./icaurs/execution/collectors.py
DATA_COLLECTORS = ['CACHE_HIT_RATIO']#, 'LATENCY']#, 'PATH_STRETCH']#'LINK_LOAD', ]

# Range of alpha values of the Zipf distribution using to generate content requests
# alpha values must be positive. The greater the value the more skewed is the
# content popularity distribution
# Range of alpha values of the Zipf distribution using to generate content requests
# alpha values must be positive. The greater the value the more skewed is the
# content popularity distribution
# Note: to generate these alpha values, numpy.arange could also be used, but it
# is not recommended because generated numbers may be not those desired.
# E.g. arange may return 0.799999999999 instead of 0.8.
# This would give problems while trying to plot the results because if for
# example I wanted to filter experiment with alpha=0.8, experiments with
# alpha = 0.799999999999 would not be recognized
ALPHA = [1.0]

# Total size of network cache as a fraction of content population
NETWORK_CACHE = [0.001, 0.003]#, 0.005, 0.007, 0.009, 0.01]

DIFF = [0.2]


#group of user
#WIDE 
g_WIDE = {0: [4], 1: [28], 2: [3], 6: [5, 27, 7]}
g_GARR = {4: [7, 1], 46: [60], 14: [26, 57], 15: [53], 49: [48, 50, 32, 42, 47], 18: [43, 41], 20: [12], 21: [19], 22: [8], 55: [11, 28], 58: [9], 29: [30], 31: [33]}
 
g_GARR_2 = {34: [12001, 12006, 12007, 13009, 15001, 12009, 13003, 12002, 6003, 13008, 12003, 6005, 6004, 15004, 6009, 12010, 13010, 13004, 6010, 6007, 13001, 12004, 6006, 6001, 13006, 13005, 13007, 15008, 33, 15002, 15003, 12008, 15009, 12005, 15005, 13002, 15007, 15010, 6002, 6008, 15006], 35: [14003, 14001, 14004, 14007, 14008, 14009, 14006, 14005, 14010, 14002], 4: [1010, 1004, 1007, 1009, 1, 1003, 1008, 1001, 7, 1005, 1002, 1006], 37: [26006, 15003, 16008, 17010, 26003, 16005, 15002, 16001, 18003, 17001, 18010, 26009, 18006, 18009, 17002, 26004, 26001, 16007, 26002, 15005, 16002, 16003, 26008, 17003, 18007, 17009, 17005, 16006, 17006, 18002, 16010, 17004, 18005, 17007, 16004, 15004, 26005, 15010, 18001, 18004, 15006, 16009, 15007, 15001, 17008, 18008, 26010, 15008, 9, 26007, 15009], 40: [19006, 19007, 19010, 19001, 19009, 19004, 19003, 19002, 19005, 19008], 10: [20007, 3006, 2007, 3002, 3004, 2005, 3009, 3008, 3007, 3010, 3005, 2010, 3003, 3001, 2004, 21009, 2002, 20001, 2008, 2009, 21004, 20009, 21001, 21005, 20003, 20010, 20008, 2003, 21008, 21002, 21003, 2001, 20005, 21007, 20004, 21010, 20006, 2006, 20002, 21006], 14: [4001, 4007, 60, 4008, 26, 22009, 4005, 4010, 22007, 22006, 22005, 4009, 22004, 57, 22001, 22002, 4003, 22010, 4006, 4002, 22008, 22003, 4004], 15: [5007, 5002, 5009, 5006, 5001, 5004, 5010, 5008, 5005, 53, 5003], 49: [50, 23002, 32, 23008, 23003, 23005, 48, 23001, 23007, 23006, 42, 23009, 47, 23010, 23004], 18: [7009, 7004, 41, 43, 7010, 7007, 7006, 7008, 7003, 7001, 7005, 7002], 21: [10007, 8009, 8006, 8001, 9002, 9010, 9001, 9005, 10003, 8007, 10008, 10005, 8010, 8003, 10002, 10009, 8, 9008, 8002, 10001, 9009, 8005, 12, 19, 10006, 9004, 9003, 9007, 9006, 8008, 8004, 10004, 10010], 55: [21010, 21002, 24001, 20001, 11, 20007, 2003, 2010, 24007, 24004, 24010, 20010, 21004, 20002, 2005, 20008, 24009, 2007, 2002, 20006, 2008, 21005, 24002, 21006, 20003, 2009, 21001, 2001, 21008, 21003, 24005, 24003, 2006, 2004, 20005, 28, 24008, 20004, 20009, 21007, 21009, 24006], 56: [25010, 25007, 25008, 25009, 6008, 6010, 25003, 25001, 6009, 25002, 6005, 6006, 25006, 25004, 17006, 6004, 6003, 25005, 17003, 17001, 17004, 6001, 6002, 17007, 6007, 17009, 17010, 17008, 17002, 17005], 59: [27002, 27001, 27003, 27010, 27009, 27006, 27008, 27004, 18006, 18001, 27005, 18004, 18009, 27007, 18005, 18008, 18010, 18007, 18002, 18003], 29: [11008, 11001, 11005, 11010, 11004, 11003, 11002, 30, 11007, 11009, 11006]}

# {4: [1008, 7, 1005, 1001, 1003, 1, 1007, 1006, 1010, 1009, 1002, 1004], 6: [2001, 2007, 2008, 2002, 2009, 2010, 2005, 2003, 2004, 2006], 10: [3006, 3004, 3007, 3009, 3002, 3003, 3010, 3008, 3005, 3001], 14: [57, 4006, 4001, 4004, 4002, 4003, 4010, 4009, 4005, 26, 4007, 4008], 15: [5002, 5006, 5007, 5005, 5008, 5001, 5004, 53, 5010, 5009, 5003], 17: [6005, 6002, 6010, 6006, 6008, 6007, 6004, 6009, 6003, 6001], 18: [43, 7001, 7003, 7010, 7009, 7008, 41, 7007, 7002, 7005, 7006, 7004], 20: [8005, 8008, 8001, 8004, 8009, 12, 8002, 8006, 8003, 8007, 8010], 21: [19, 9007, 9002, 9010, 9006, 9004, 9005, 9009, 9003, 9001, 9008], 22: [10005, 10003, 10006, 10009, 10001, 10010, 10007, 10008, 10002, 8, 10004], 29: [30, 11010, 11004, 11007, 11008, 11002, 11001, 11009, 11003, 11006, 11005], 31: [12005, 12006, 12009, 12007, 12008, 33, 12004, 12003, 12010, 12001, 12002], 34: [13001, 13008, 13003, 13004, 13006, 13010, 13005, 13009, 13007, 13002], 35: [14003, 14005, 14008, 14009, 14001, 14002, 14007, 14004, 14006, 14010], 36: [15007, 15004, 15003, 15008, 15005, 15001, 15009, 15002, 15006, 15010], 37: [16003, 16006, 16010, 16005, 16001, 16009, 16004, 16002, 16007, 16008], 38: [17009, 17003, 17004, 17002, 17010, 17006, 17005, 17007, 17001, 17008], 39: [18006, 18002, 18004, 18010, 18009, 18005, 18001, 18008, 18007, 18003], 40: [19006, 19002, 19004, 19001, 19010, 19007, 19009, 19008, 19003, 19005], 44: [20001, 20007, 20006, 20009, 20008, 20010, 20004, 20002, 20005, 20003], 45: [21008, 21010, 21005, 21004, 21003, 21001, 21002, 21007, 21009, 21006], 46: [22003, 60, 22009, 22001, 22002, 22008, 22006, 22007, 22010, 22005, 22004], 49: [23004, 47, 23007, 48, 23003, 23005, 50, 23001, 42, 23008, 23006, 23002, 23010, 23009, 32], 55: [24010, 24004, 24006, 24007, 24009, 11, 24001, 28, 24008, 24003, 24005, 24002], 56: [25003, 25001, 25007, 25008, 25010, 25002, 25009, 25005, 25004, 25006], 58: [26006, 26010, 9, 26005, 26007, 26008, 26002, 26001, 26009, 26004, 26003], 59: [27006, 27001, 27007, 27002, 27008, 27003, 27004, 27005, 27009, 27010]}
#geant, source,receiver,router,icr 13 328 32 32
#g_GEANT = {0: [1006, 1001, 1008, 1004, 1003, 1002, 1010, 1009, 1007, 1005], 1: [2005, 2008, 2007, 2009, 2004, 2010, 2001, 2006, 2003, 2002, 1001], 2: [3006, 3009, 3004, 3001, 3005, 3003, 3010, 3007, 3002, 3008], 3: [4002, 10, 19, 4010, 4009, 4006, 4003, 4004, 4008, 4001, 4007, 4005], 4: [5004, 5003, 5010, 5006, 5009, 5005, 5008, 5001, 5007, 5002], 5: [6005, 6004, 6006, 6009, 6010, 6001, 6007, 6003, 6002, 6008], 6: [7008, 7002, 7001, 7004, 7007, 7009, 7010, 7003, 7005, 7006], 7: [8009, 8008, 8007, 8004, 8010, 8001, 8005, 8002, 8003, 8006], 8: [9009, 9008, 9007, 9005, 9006, 9010, 9003, 9001, 9002, 9004], 9: [10002, 10009, 10008, 18, 10006, 10007, 10003, 10004, 10005, 10001, 10010], 12: [11004, 11005, 20, 11001, 11009, 11008, 11003, 11006, 11007, 11002, 11010], 13: [11, 12002, 12007, 12006, 12004, 12003, 12001, 12010, 12005, 12009, 12008], 14: [13004, 13007, 13010, 13005, 13009, 13003, 13001, 13002, 13008, 13006], 15: [14003, 14004, 14005, 14008, 14010, 14009, 14006, 14002, 14007, 14001], 16: [15009, 15005, 15006, 15001, 15003, 15004, 15010, 15007, 15002, 15008], 17: [16002, 16009, 16010, 16003, 16006, 16001, 16005, 16007, 16008, 16004], 22: [17010, 17001, 17008, 17003, 17002, 17009, 17004, 17006, 17005, 17007, 26], 23: [18004, 18010, 18003, 18009, 18001, 18005, 18006, 18007, 18002, 18008], 24: [19008, 19009, 19003, 19004, 19005, 19002, 19007, 19001, 19006, 19010], 25: [20006, 20005, 20008, 20007, 20001, 20003, 20009, 20002, 20004, 20010], 27: [21002, 21009, 21007, 21001, 21003, 21004, 21, 21008, 21010, 21006, 21005], 28: [22002, 22009, 22010, 22005, 22007, 22003, 22006, 22008, 22001, 22004], 29: [23009, 23002, 23006, 23007, 23010, 23008, 23005, 23003, 23004, 23001], 30: [24005, 24003, 24010, 24008, 24004, 24007, 24006, 24002, 24009, 24001], 31: [25001, 25003, 25002, 25005, 25004, 25008, 25006, 25007, 25009, 25010], 32: [26007, 26008, 26001, 26010, 26004, 26005, 26006, 26002, 26003, 26009], 33: [27005, 27001, 27007, 27009, 27006, 27003, 27008, 27010, 27002, 27004], 34: [28009, 28003, 28001, 28006, 28010, 28007, 28002, 28008, 28004, 28005], 35: [29001, 29010, 29009, 29005, 29006, 29003, 29008, 29002, 29007, 29004], 36: [30010, 30005, 30002, 30006, 30008, 30007, 30009, 30004, 37, 30001, 30003], 38: [31003, 31002, 31010, 31009, 31004, 31007, 31006, 31008, 31005, 31001], 39: [32008, 32004, 32007, 32001, 32002, 32006, 32010, 32005, 32009, 32003]}
#10.20, change topology.py geant's adding receivers 1000 to 10000, and re-generate edge distribution.
g_GEANT = {0: [10001, 10002, 10003, 10004, 10005, 10006, 10007, 10008, 10009, 10010], 1: [11010, 11008, 11009, 11001, 11002, 11003, 11004, 11005, 11006, 11007], 2: [12002, 12005, 12001, 12008, 12009, 12010, 12007, 12006, 12003, 12004], 3: [13001, 10, 13003, 13004, 13005, 13006, 13007, 13008, 13009, 13010, 19, 13002], 4: [14001, 14002, 14003, 14004, 14005, 14006, 14007, 14008, 14009, 14010], 5: [15008, 15009, 15010, 15001, 15002, 15003, 15004, 15005, 15006, 15007], 6: [16001, 16002, 16003, 16005, 16006, 16008, 16009, 16010, 16007, 16004], 7: [17001, 17002, 17003, 17004, 17005, 17006, 17007, 17008, 17009, 17010], 8: [18009, 18001, 18002, 18003, 18004, 18005, 18006, 18007, 18008, 18010], 9: [19008, 19009, 19010, 19005, 18, 19001, 19002, 19003, 19004, 19006, 19007], 12: [20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20009, 20010, 20], 13: [21003, 21001, 21002, 21005, 21007, 21008, 21009, 21010, 21006, 21004], 14: [22006, 22001, 22002, 22003, 22004, 22005, 22007, 22008, 22009, 22010], 15: [23008, 23009, 23010, 23005, 23001, 23002, 23003, 23004, 23006, 23007], 16: [24001, 24003, 24005, 24006, 24007, 24008, 24009, 24010, 24002, 24004], 17: [25001, 25002, 25003, 25004, 25005, 25006, 25007, 25008, 25009, 25010], 22: [26007, 26001, 26002, 26003, 26004, 26005, 26006, 26008, 26009, 26, 26010], 23: [27008, 27009, 27010, 27005, 27001, 27002, 27003, 27004, 27006, 27007], 24: [28001, 28003, 28004, 28005, 28006, 28007, 28008, 28009, 28010, 28002], 25: [29002, 29003, 29004, 29005, 29006, 29007, 29008, 29009, 29010, 29001], 27: [30006, 30001, 30002, 30003, 30004, 30007, 30008, 30009, 30010, 30005], 28: [31008, 31009, 31010, 31005, 31001, 31002, 31003, 31004, 31006, 31007], 29: [32001, 32002, 32003, 32005, 32006, 32007, 32008, 32010, 32009, 32004], 30: [33001, 33002, 33003, 33004, 33005, 33006, 33007, 33008, 33010, 33009], 31: [34001, 34002, 34003, 34004, 34005, 34006, 34007, 34008, 34009, 34010], 32: [35008, 35009, 35010, 35001, 35002, 35003, 35004, 35005, 35006, 35007], 33: [36003, 36004, 36005, 36006, 36001, 36008, 36010, 36007, 36002, 36009], 34: [37003, 37001, 37002, 37004, 37005, 37006, 37007, 37009, 37010, 37008], 35: [38001, 38002, 38003, 38004, 38005, 38006, 38007, 38008, 38009, 38010], 36: [39008, 39009, 37, 39010, 39001, 39002, 39003, 39004, 39005, 39006, 39007], 38: [40001, 40003, 40004, 40005, 40006, 40008, 40009, 40010, 40007, 40002], 39: [41001, 41002, 41003, 41004, 41005, 41006, 41008, 41009, 41010, 41007]}
g_TISCALI = {198: [262, 452, 509, 567, 534, 394], 214: [534, 567, 452, 394, 509], 226: [459, 443, 444, 440, 567, 426, 452, 451, 534, 394, 509], 228: [567, 452, 509, 534], 229: [451, 452, 459, 460, 426, 567, 509, 534, 394], 390: [528, 525, 527, 567, 394, 509, 534, 452], 327: [394, 338, 553, 361, 543, 551, 513, 548, 534, 509, 567, 452], 201: [262, 534, 394, 567, 452], 203: [204, 262, 452, 394, 509, 567, 534], 207: [567, 204, 248, 534, 394, 509, 452], 208: [248, 394, 567, 534, 509], 209: [567, 509, 394, 534, 452], 340: [516, 534, 452, 567, 394, 509], 438: [442, 453, 446, 509, 534, 567, 394, 452], 439: [446, 453, 442, 458, 441, 452, 567, 534, 394, 509], 153: [548, 513, 394, 543, 361, 551, 367, 547, 522, 509, 364, 553, 523, 452, 567, 534], 217: [248, 394, 452, 509, 534, 567], 197: [262, 394, 567, 509, 452, 534]}

g_TISCALI_2 = {16: [10001, 10007, 10008, 10003, 10009, 10005, 10004, 10006, 10010, 10002], 531: [1005, 1004, 1007, 1002, 1010, 1003, 1009, 1006, 534, 1008, 1001], 532: [2010, 2007, 2004, 2003, 2001, 2008, 2005, 2002, 2009, 2006], 533: [3010, 3008, 3005, 3007, 3003, 3006, 3001, 3002, 3004, 3009], 536: [4008, 4004, 4006, 4002, 4010, 4003, 4009, 4005, 4007, 4001], 537: [5006, 5002, 5010, 5009, 5007, 5003, 5008, 5005, 5004, 5001], 541: [6005, 6002, 6010, 543, 6006, 6008, 6001, 6009, 6004, 6003, 6007], 542: [7010, 7001, 7005, 7003, 7006, 7007, 7008, 7002, 7004, 7009], 589: [8002, 8008, 8005, 8006, 8010, 8001, 8004, 8009, 8003, 8007], 590: [9007, 9004, 9003, 9001, 9010, 9008, 9006, 9009, 9002, 9005], 153: [11002, 11009, 11005, 11004, 11001, 11007, 11008, 11010, 11003, 11006], 159: [12010, 12005, 12007, 12004, 12002, 12008, 12009, 12001, 12003, 12006], 177: [13010, 13008, 13002, 13005, 13009, 13007, 13004, 13006, 13003, 13001], 178: [14002, 14007, 14009, 14003, 14004, 14006, 14010, 14008, 14001, 14005], 179: [15009, 15010, 15006, 15001, 15004, 15008, 15005, 15007, 15002, 15003], 180: [16005, 16008, 16001, 16010, 16009, 16004, 16007, 16006, 16002, 16003], 181: [17004, 17007, 17002, 17006, 17003, 17008, 17001, 17009, 17010, 17005], 183: [18002, 18003, 18001, 18004, 18008, 18007, 18010, 18009, 18005, 18006], 184: [19007, 19004, 19009, 19005, 19006, 19001, 19008, 19003, 19002, 19010], 185: [20010, 20005, 20001, 20009, 20008, 20006, 20002, 20003, 20007, 20004], 186: [21009, 21001, 21005, 21007, 21002, 21004, 21008, 21010, 21003, 21006], 187: [22008, 22004, 22002, 22010, 22003, 22006, 22007, 22001, 22005, 22009], 188: [23004, 23003, 23008, 23005, 23007, 23002, 23006, 23009, 23010, 23001], 189: [24009, 24005, 24008, 24007, 24002, 24004, 24003, 24001, 24010, 24006], 190: [25006, 25010, 25001, 25004, 25003, 25002, 25007, 25008, 25009, 25005], 191: [26005, 26008, 26009, 26007, 26002, 26003, 26001, 26010, 26004, 26006], 192: [27009, 27008, 27004, 27007, 27010, 27001, 27003, 27006, 27002, 27005], 193: [28004, 28010, 28008, 28003, 28002, 28005, 28006, 28007, 28009, 28001], 195: [29003, 29004, 29005, 29002, 29006, 29008, 29001, 29009, 29007, 29010], 196: [30004, 30007, 30002, 30008, 30010, 30003, 30005, 30006, 30009, 30001], 197: [31010, 31002, 31008, 31009, 31001, 31007, 31005, 31004, 31003, 31006], 198: [32009, 32008, 32005, 32003, 32002, 32007, 32001, 32004, 32006, 32010], 199: [33006, 33002, 33010, 33003, 33001, 33008, 33004, 33005, 33007, 33009], 200: [34010, 34008, 34001, 34004, 34005, 34006, 34007, 34002, 34009, 34003], 201: [35004, 35010, 35006, 35007, 35002, 35009, 35003, 35005, 35008, 35001], 203: [36010, 36004, 36009, 36003, 36006, 36002, 36008, 36005, 36007, 36001], 205: [37004, 37001, 37007, 37010, 37008, 37003, 37006, 37002, 37005, 37009], 207: [38009, 38004, 38006, 38001, 38002, 38010, 38007, 38008, 38003, 38005], 208: [39004, 39009, 39006, 39010, 39002, 39005, 39001, 39008, 39003, 39007], 209: [40010, 40003, 40001, 40005, 40008, 40006, 40002, 40004, 40007, 40009], 210: [41005, 41010, 41009, 41004, 41007, 41002, 41006, 41003, 41001, 41008], 211: [42006, 42003, 42001, 42008, 42002, 42004, 42007, 42010, 42009, 42005], 212: [43010, 43008, 43009, 43006, 43002, 43005, 43001, 43004, 43003, 43007], 213: [44008, 44010, 44009, 204, 44006, 44003, 44007, 44001, 44004, 44005, 44002], 214: [45005, 45007, 45009, 45008, 45004, 45010, 45006, 45001, 45003, 45002], 217: [46008, 46003, 46009, 46006, 46001, 46010, 46002, 46004, 46005, 46007], 218: [47010, 47004, 47009, 47001, 47003, 47002, 47006, 47005, 47007, 47008], 220: [48008, 48003, 48006, 48009, 48005, 48010, 48004, 48007, 48001, 48002], 221: [49004, 49002, 49007, 49001, 49003, 49005, 49008, 49010, 49009, 49006], 222: [50007, 50006, 50003, 50005, 50009, 50001, 50010, 50002, 50008, 50004], 224: [51002, 51006, 51001, 51008, 51010, 51007, 51005, 51004, 51003, 51009], 226: [52003, 52008, 52004, 52001, 52007, 52006, 52005, 52010, 52009, 52002], 227: [53009, 53003, 53010, 53007, 53006, 53001, 53002, 53005, 53004, 53008], 228: [54001, 54004, 54009, 54006, 54010, 54007, 54005, 54008, 54003, 54002], 229: [55006, 55007, 55003, 55009, 55005, 55010, 55008, 55001, 55002, 55004], 230: [56006, 56007, 56010, 56001, 56002, 56004, 56003, 56008, 56005, 56009], 231: [57006, 57005, 57003, 57008, 57010, 57009, 57002, 57004, 57007, 57001], 232: [58010, 58006, 58001, 58005, 58009, 58004, 58002, 58007, 58008, 58003], 233: [59010, 59009, 59001, 59005, 59006, 59004, 59008, 59003, 59007, 59002], 234: [60008, 60002, 60006, 60009, 60001, 60004, 60007, 60005, 60010, 60003], 235: [61005, 61006, 61004, 61008, 61001, 61002, 61007, 61003, 61009, 61010], 236: [62009, 62008, 62006, 62002, 62003, 62007, 62004, 62005, 62001, 62010], 237: [63008, 63005, 63007, 63009, 63010, 63004, 63003, 63006, 63001, 63002], 238: [64006, 64005, 64002, 64009, 64001, 64010, 64004, 64007, 64003, 64008], 241: [65005, 65007, 65006, 65009, 65004, 65001, 65008, 65010, 65002, 65003], 242: [66009, 66008, 66002, 66010, 66003, 66007, 66001, 66005, 66006, 66004], 243: [67001, 67007, 67005, 67008, 67009, 67010, 67003, 67006, 67002, 67004], 245: [68002, 68003, 68008, 68007, 68004, 68006, 68010, 68009, 68005, 68001], 246: [69001, 69007, 69010, 69003, 69002, 69004, 69005, 69008, 69006, 69009], 247: [70007, 70002, 248, 70006, 70009, 70001, 70008, 70004, 70005, 70003, 70010], 249: [71003, 71010, 71004, 71001, 71009, 71005, 71008, 71002, 71006, 71007], 250: [72007, 72004, 72006, 72008, 72002, 72010, 72001, 72009, 72003, 72005], 252: [73005, 73009, 73010, 73007, 73002, 73008, 73003, 73004, 73001, 73006], 253: [74003, 74008, 74010, 74001, 74006, 74007, 74004, 74009, 74002, 74005], 254: [75006, 75008, 75001, 75003, 75007, 75002, 75005, 75009, 75004, 75010], 257: [76009, 76004, 76010, 76006, 76008, 76002, 76003, 76005, 76007, 76001], 259: [77008, 77002, 77009, 77006, 77007, 77005, 77003, 77010, 77001, 77004], 260: [78006, 78010, 78007, 78003, 78008, 78001, 78002, 78004, 78005, 78009, 262], 261: [79006, 79010, 79008, 79009, 79004, 79002, 79001, 79003, 79005, 79007], 266: [80007, 80004, 80009, 80006, 80002, 80008, 80003, 80010, 80005, 80001], 268: [81003, 81005, 81006, 81010, 81008, 81001, 81007, 81009, 81004, 81002, 567], 269: [82001, 82010, 82006, 82003, 82002, 82009, 82005, 82007, 82008, 82004], 270: [83010, 83002, 83006, 83004, 83001, 83008, 83009, 83007, 83005, 83003], 300: [84006, 84007, 84010, 84009, 84005, 84001, 84004, 84008, 84003, 84002], 301: [85002, 85005, 85001, 85008, 85004, 85009, 85003, 85007, 85006, 85010], 302: [86008, 86007, 86009, 86003, 86004, 86005, 86006, 86001, 86002, 86010], 303: [87007, 87010, 87001, 87005, 87009, 87004, 87006, 87003, 87002, 87008], 304: [88008, 88004, 88005, 88003, 88006, 88009, 88007, 88002, 88010, 88001], 305: [89001, 89010, 89004, 89007, 89009, 89003, 89005, 89002, 89006, 89008], 306: [90006, 90010, 90005, 90004, 90007, 90002, 90003, 90009, 90008, 90001], 312: [91010, 91008, 91007, 513, 91003, 91006, 91005, 91002, 91009, 91001, 548, 91004], 313: [92001, 92007, 92010, 92008, 92002, 92006, 92005, 92003, 92009, 92004], 316: [93006, 93002, 93003, 93007, 93008, 93010, 93009, 93005, 93001, 93004], 319: [94001, 94009, 94004, 94002, 94005, 94007, 94008, 94003, 94006, 94010], 320: [95005, 95007, 95003, 95002, 95004, 95008, 95006, 95001, 95010, 95009], 321: [96010, 96002, 96001, 96009, 96003, 96008, 96007, 96006, 509, 96005, 96004], 326: [97001, 97009, 97007, 522, 97010, 523, 97005, 97003, 97008, 97006, 97002, 97004], 327: [98007, 98004, 98009, 98005, 98006, 98010, 98002, 98008, 98001, 98003], 330: [99001, 99006, 99010, 99003, 99002, 99005, 99004, 99007, 99008, 99009], 334: [100010, 100001, 100003, 100002, 527, 100005, 100007, 100009, 100008, 528, 100004, 100006], 335: [101008, 101009, 101003, 101010, 101007, 101004, 101006, 101001, 101005, 101002, 525], 339: [102006, 102001, 338, 102008, 102007, 102009, 102005, 102004, 102010, 102003, 102002], 340: [103004, 103010, 103007, 103005, 103002, 103009, 103006, 103008, 103001, 103003], 341: [104002, 104009, 104005, 104007, 104010, 104004, 104006, 104008, 104003, 104001], 342: [105002, 105009, 105005, 105004, 105007, 105008, 105010, 105001, 105006, 105003], 343: [106004, 106002, 106003, 106009, 106007, 106006, 106001, 106010, 106008, 106005], 345: [107004, 107005, 107001, 107010, 107002, 107003, 107006, 107007, 107009, 107008], 346: [108008, 108003, 108002, 108007, 108009, 108001, 108004, 108010, 108006, 108005], 347: [109010, 109001, 109005, 109003, 109008, 109009, 109004, 109007, 109006, 109002], 354: [110004, 110003, 110005, 110001, 110006, 110008, 110009, 110007, 110010, 110002], 356: [111007, 111002, 111010, 111005, 111003, 111006, 111001, 111009, 111008, 111004, 516], 362: [112010, 112001, 361, 112005, 112008, 112003, 112006, 112009, 112004, 112002, 112007], 363: [113009, 113006, 113005, 113010, 364, 113002, 113003, 113004, 113008, 113001, 113007, 367], 368: [114003, 114004, 114010, 114006, 114002, 114008, 114001, 114005, 114007, 114009], 372: [115005, 115002, 115006, 115009, 115003, 115008, 115010, 115007, 551, 115001, 115004], 373: [116005, 116007, 116002, 116010, 116008, 116009, 116004, 116006, 116001, 116003], 374: [117006, 117010, 117004, 117002, 117005, 117008, 117007, 117009, 117001, 117003], 377: [118009, 118002, 547, 118003, 118006, 118001, 118007, 118005, 118008, 118010, 118004], 378: [119006, 119005, 119002, 119001, 119007, 119009, 119010, 119008, 119003, 119004], 383: [553, 120005, 120003, 120007, 120008, 120002, 120001, 120009, 120006, 120010, 120004], 389: [121004, 121003, 121002, 121009, 121010, 121005, 121008, 121006, 121001, 121007], 390: [122009, 122003, 122001, 122008, 122006, 122004, 122010, 122002, 122007, 122005], 391: [123006, 123008, 123003, 123005, 123010, 123004, 123007, 123001, 123009, 123002], 392: [124007, 124001, 124005, 124009, 124010, 124006, 124003, 124008, 124004, 124002], 393: [125006, 125010, 125002, 125003, 125008, 125005, 394, 125004, 125001, 125007, 125009], 405: [126007, 126009, 126002, 126004, 126001, 126005, 126010, 440, 126008, 126006, 126003], 406: [127006, 441, 127010, 127008, 127004, 127007, 127001, 127009, 127002, 127003, 127005], 407: [128010, 128009, 128007, 128008, 128001, 128004, 128002, 442, 128006, 128003, 128005], 408: [129003, 129005, 443, 129001, 129004, 129002, 129007, 129009, 129006, 129010, 129008], 409: [444, 130009, 130008, 130010, 130006, 130004, 130001, 130005, 130007, 130002, 130003], 410: [131006, 131007, 446, 131001, 131004, 131002, 131008, 131003, 131005, 131009, 131010], 411: [132003, 132009, 132001, 132006, 132004, 132005, 132007, 132010, 132002, 132008], 412: [133003, 133010, 133001, 133006, 133004, 133008, 133002, 133005, 133009, 133007], 413: [452, 134002, 134006, 134009, 134007, 134010, 134003, 134004, 134008, 134005, 134001], 414: [135003, 135005, 135001, 135004, 135002, 135009, 135008, 135006, 135007, 135010], 415: [136008, 136006, 136005, 136003, 453, 136010, 136001, 136002, 136009, 136004, 136007], 416: [137003, 137009, 137006, 137004, 137007, 137002, 137005, 137001, 137008, 137010], 417: [138001, 458, 138003, 138008, 138010, 138004, 138002, 138005, 138006, 138009, 138007], 418: [139001, 139006, 139010, 139004, 139008, 139003, 139005, 139002, 139009, 139007, 459], 419: [140002, 140005, 140003, 140001, 140009, 140007, 140004, 460, 140010, 140006, 140008], 420: [141009, 141004, 141003, 141007, 141008, 141006, 141001, 141010, 141005, 141002], 421: [142001, 142008, 142010, 142002, 142006, 142007, 142005, 142009, 142003, 142004], 422: [143009, 143002, 143005, 143004, 143001, 143007, 143008, 143010, 143006, 143003], 423: [144002, 144009, 144001, 144005, 144010, 144003, 144008, 144007, 144004, 144006], 424: [145003, 145004, 145009, 145005, 145008, 145007, 145001, 145002, 145010, 145006], 425: [146010, 146003, 146005, 146008, 146004, 146007, 146002, 146006, 146009, 146001], 427: [147006, 147010, 147007, 147008, 147003, 147004, 147005, 147002, 147009, 147001], 429: [148007, 148002, 148005, 148008, 148010, 426, 148004, 148009, 148001, 148006, 148003], 430: [149002, 149009, 149005, 149010, 149001, 149003, 149008, 149004, 149007, 149006], 431: [150004, 150010, 150002, 150003, 150005, 150001, 150009, 150008, 150006, 451, 150007], 432: [151001, 151004, 151005, 151002, 151010, 151006, 151008, 151003, 151007, 151009], 433: [152003, 152008, 152009, 152005, 152010, 152004, 152002, 152007, 152006, 152001], 434: [153010, 153009, 153006, 153005, 153007, 153002, 153003, 153004, 153008, 153001], 435: [154005, 154006, 154010, 154009, 154004, 154007, 154001, 154003, 154002, 154008], 436: [155005, 155003, 155004, 155001, 155002, 155010, 155009, 155008, 155007, 155006], 438: [156007, 156008, 156006, 156004, 156001, 156009, 156005, 156002, 156003, 156010], 439: [157004, 157008, 157001, 157007, 157010, 157006, 157002, 157005, 157009, 157003], 449: [158005, 158007, 158010, 158002, 158009, 158004, 158003, 158008, 158006, 158001], 455: [159007, 159003, 159005, 159001, 159009, 159010, 159006, 159004, 159002, 159008], 457: [160010, 160001, 160007, 160004, 160006, 160002, 160005, 160003, 160008, 160009]}

GROUP_OF_USER = g_GEANT

# Number of content objects
N_CONTENTS = 3*10**5

# Number of requests per second (over the whole network)
NETWORK_REQUEST_RATE = 50.0

# Number of content requests generated to prepopulate the caches
# These requests are not logged
N_WARMUP_REQUESTS = 3*10**5

# Number of content requests generated after the warmup and logged
# to generate results.
N_MEASURED_REQUESTS = 6*10**5

# List of all implemented topologies
# Topology implementations are located in ./icarus/scenarios/topology.py
TOPOLOGIES =  [
#               'ROCKET_FUEL'
               'GEANT'#,
#               'DATACENTER'
#               'GARR_2'
#               'GARR',
#               'TISCALI_2'
               ]

#ASNS = [
        #1221#,
        #1239,
        #1755,
        #3257,
        #3967,
        #6461
        #]


# List of caching and routing strategies
# The code is located in ./icarus/models/strategy.py
STRATEGIES = [
              'EDGE'
              #'EDGE'
              #'HR_SYMM',         # Symmetric hash-routing
              #'HR_ASYMM',        # Asymmetric hash-routing
              #'HR_MULTICAST',    # Multicast hash-routing
              #'HR_HYBRID_AM',    # Hybrid Asymm-Multicast hash-routing
              #'HR_HYBRID_SM',    # Hybrid Symm-Multicast hash-routing
              #'CL4M',            # Cache less for more
              #'PROB_CACHE',      # ProbCache
              #'LCD',             # Leave Copy Down
              #'RAND_CHOICE',     # Random choice: cache in one random cache on path
              #'RAND_BERNOULLI'  # Random Bernoulli: cache randomly in caches on path
              ]

WORKLOADS = [
#             'ALLSAME',
#	     'DIFFALPHA',
#             'GROUPDIFFALPHA',
             #             'DIFFRANK'#,
             'GROUPDIFFRANK'
#             'ALLDIFF'#,
#             'GROUPALLDIFFRANK',
#            'GROUPALLDIFF'
            ]

# Cache replacement policy used by the network caches.
# Supported policies are: 'LRU', 'LFU', 'FIFO', 'RAND' and 'NULL'
# Cache policy implmentations are located in ./icarus/models/cache.py
CACHE_POLICY = 'LRU'

RANK_SUM = [7]
RANK_DIFF = 1

# Queue of experiments
EXPERIMENT_QUEUE = deque()
default = Tree()

#default['topology']['name'] = 'ROCKET_FUEL'
#default['topology']['asn'] = 1755

default['test_strategy'] = {
                            'name': 'EDGE'
                            }



default['workload'] = {
#                        'name':      'GROUP',
                        'rank_diff': RANK_DIFF,
                        'n_contents': N_CONTENTS,
                        'group_of_user': GROUP_OF_USER,
                        #'rank_sum': RANK_SUM,                       
                        'n_warmup':   N_WARMUP_REQUESTS,
                        'n_measured': N_MEASURED_REQUESTS,
                        'rate':       NETWORK_REQUEST_RATE
                        }
default['cache_placement']['name'] = 'UNIFORM'
#decide the size of cache in each icr_candidate
default['content_placement']['name'] = 'UNIFORM'
#decide the content in each source
default['cache_policy']['name'] = CACHE_POLICY

# Create experiments multiplexing all desired parameters
for rank_sum in RANK_SUM:
    for alpha in ALPHA:
        for topology in TOPOLOGIES:
            for strategy in STRATEGIES:
                for diff in DIFF:
                    for workload in WORKLOADS:
                        for network_cache in NETWORK_CACHE:          
                            experiment = copy.deepcopy(default)
                            experiment['topology']['name'] = topology
                            experiment['workload']['name'] = workload
                            experiment['workload']['rank_sum'] = rank_sum
                            #experiment['workload']['network_cache'] = network_cache
                            experiment['workload']['diff'] = diff
                            experiment['workload']['alpha'] = alpha
                            experiment['strategy']['name'] = strategy
                          	#experiment['topology']['asn'] = asn
                            experiment['cache_placement']['network_cache'] = network_cache
                            experiment['desc'] = "topology: %s, strategy: %s, diff: %s, Alpha: %s, rank_sum: %s, workload: %s,  network cache: %s" \
                            % (topology, strategy, str(diff), str(alpha), str(rank_sum), workload, str(network_cache))
                            EXPERIMENT_QUEUE.append(experiment)
