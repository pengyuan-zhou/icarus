"""This module contains all configuration information used to run simulations
    """
from multiprocessing import cpu_count
from collections import deque
import copy
from icarus.util import Tree

# GENERAL SETTINGS

# Level of logging output
# Available options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL = 'INFO'

# If True, executes simulations in parallel using multiple processes
# to take advantage of multicore CPUs
PARALLEL_EXECUTION = False

# Number of processes used to run simulations in parallel.
# This option is ignored if PARALLEL_EXECUTION = False
N_PROCESSES = cpu_count()/2

# Granularity of caching.
# Currently, only OBJECT is supported
CACHING_GRANULARITY = 'OBJECT'

# Format in which results are saved.
# Result readers and writers are located in module ./icarus/results/readwrite.py
# Currently only PICKLE is supported
RESULTS_FORMAT = 'PICKLE'

# Number of times each experiment is replicated
# This is necessary for extracting confidence interval of selected metrics
N_REPLICATIONS = 30

# List of metrics to be measured in the experiments
# The implementation of data collectors are located in ./icaurs/execution/collectors.py
DATA_COLLECTORS = ['CACHE_HIT_RATIO']#, 'LATENCY']#, 'PATH_STRETCH']#'LINK_LOAD', ]

# Range of alpha values of the Zipf distribution using to generate content requests
# alpha values must be positive. The greater the value the more skewed is the
# content popularity distribution
# Range of alpha values of the Zipf distribution using to generate content requests
# alpha values must be positive. The greater the value the more skewed is the
# content popularity distribution
# Note: to generate these alpha values, numpy.arange could also be used, but it
# is not recommended because generated numbers may be not those desired.
# E.g. arange may return 0.799999999999 instead of 0.8.
# This would give problems while trying to plot the results because if for
# example I wanted to filter experiment with alpha=0.8, experiments with
# alpha = 0.799999999999 would not be recognized
ALPHA = [1.0]

# Total size of network cache as a fraction of content population
NETWORK_CACHE = [0.001]#, 0.002, 0.003, 0.004, 0.005, 0.006, 0.007, 0.008, 0.009, 0.01, 0.05, 0.1]

DIFF = [0.2]


#group of user
#WIDE 
g_WIDE = {0: [4], 1: [28], 2: [3], 6: [5, 27, 7]}
g_GARR = {4: [7, 1], 46: [60], 14: [26, 57], 15: [53], 49: [48, 50, 32, 42, 47], 18: [43, 41], 20: [12], 21: [19], 22: [8], 55: [11, 28], 58: [9], 29: [30], 31: [33]}
 
g_GARR_2 = {34: [12030, 12009, 12021, 12037, 13021, 13054, 12069, 13016, 13033, 12044, 12065, 13003, 12024, 15059, 12072, 13007, 12040, 13070, 6002, 15060, 12034, 15056, 12073, 13055, 13049, 13053, 13027, 13018, 13096, 12082, 12066, 12076, 15087, 12032, 15051, 6012, 12059, 12077, 15007, 12029, 13069, 13036, 13002, 13044, 15089, 12090, 12100, 6037, 13064, 12050, 15065, 13090, 13085, 12027, 6018, 13082, 13048, 12097, 12015, 13066, 15037, 6045, 15077, 6099, 15025, 6095, 15026, 15003, 13037, 12014, 12011, 6031, 12096, 6044, 6078, 12047, 13078, 13100, 13004, 15011, 6062, 12068, 15030, 15047, 13087, 12064, 13081, 12060, 6046, 12075, 12028, 12080, 6006, 6055, 6086, 6038, 13076, 13075, 12039, 6049, 12008, 12070, 12084, 12099, 13038, 13019, 12088, 13051, 12074, 13010, 13008, 13056, 6014, 15062, 13009, 15013, 15072, 13079, 13094, 12086, 13086, 12094, 15099, 6043, 12043, 15093, 12053, 12083, 6039, 13015, 13050, 12013, 13012, 15042, 13011, 12087, 12035, 6061, 13006, 12085, 13073, 6077, 6100, 6083, 12041, 13098, 6096, 13097, 12081, 12054, 15053, 15079, 6082, 13083, 13080, 12031, 6081, 12004, 13032, 6084, 13063, 13045, 12026, 12003, 12055, 12048, 6068, 6085, 13039, 13074, 15008, 13017, 6073, 13005, 6029, 6089, 12036, 6047, 15049, 15019, 12025, 13067, 6030, 13095, 15016, 15018, 12017, 6057, 15061, 13062, 13022, 15006, 6075, 12020, 6050, 6054, 13024, 13001, 12079, 15015, 15064, 6011, 15044, 6009, 13071, 15048, 6024, 12089, 13040, 15074, 13060, 13046, 12001, 15070, 6069, 12007, 15080, 12010, 12093, 12052, 12078, 12045, 13057, 13014, 6019, 12042, 13029, 6036, 15084, 13093, 13092, 13028, 13020, 15012, 15063, 6072, 12046, 15023, 12092, 6015, 15027, 12019, 13088, 13072, 15076, 13058, 15021, 12005, 12002, 12095, 6013, 6092, 12098, 12016, 13068, 6027, 15014, 15036, 15041, 15050, 6017, 12018, 12022, 13052, 6032, 13034, 12061, 13099, 12023, 6091, 13041, 12049, 12071, 15045, 13042, 13043, 6004, 6088, 15098, 15031, 6026, 15001, 12057, 33, 13089, 13091, 12051, 13031, 6022, 12058, 6053, 6060, 12062, 15090, 6094, 15078, 15088, 6063, 15038, 15017, 15028, 13047, 6064, 6021, 6098, 6041, 15034, 6035, 15010, 15071, 6007, 6016, 15035, 6042, 15075, 6003, 12033, 12067, 6008, 6033, 13025, 6034, 13030, 13023, 15085, 6079, 6023, 15095, 15009, 12063, 6056, 15094, 6010, 15033, 6028, 12056, 6066, 13061, 6051, 15097, 13035, 15081, 12038, 15100, 6048, 6087, 6080, 13013, 15005, 15068, 6058, 15055, 12091, 6020, 6059, 15082, 13059, 6065, 6001, 6090, 6067, 13084, 15032, 15004, 15040, 12012, 6005, 6074, 15073, 13065, 6076, 15029, 15020, 15092, 15002, 15096, 13026, 13077, 6070, 15052, 6025, 6052, 15043, 15057, 15046, 15054, 6093, 6097, 6071, 15086, 15069, 15058, 15022, 12006, 15067, 6040, 15024, 15066, 15083, 15091, 15039], 35: [14003, 14070, 14075, 14080, 14074, 14014, 14012, 14028, 14055, 14072, 14026, 14002, 14066, 14081, 14035, 14083, 14011, 14076, 14098, 14087, 14091, 14063, 14008, 14100, 14005, 14086, 14020, 14036, 14030, 14017, 14094, 14021, 14054, 14069, 14084, 14018, 14024, 14013, 14077, 14004, 14046, 14095, 14045, 14043, 14040, 14051, 14009, 14025, 14093, 14079, 14001, 14048, 14088, 14068, 14034, 14022, 14006, 14016, 14019, 14041, 14056, 14067, 14096, 14047, 14032, 14071, 14044, 14029, 14027, 14059, 14097, 14085, 14023, 14007, 14057, 14031, 14038, 14037, 14015, 14061, 14089, 14042, 14060, 14078, 14039, 14050, 14010, 14058, 14064, 14065, 14090, 14052, 14053, 14099, 14082, 14033, 14062, 14049, 14092, 14073], 4: [7, 1066, 1094, 1048, 1039, 1087, 1061, 1043, 1056, 1074, 1007, 1093, 1084, 1068, 1059, 1073, 1027, 1011, 1016, 1051, 1097, 1012, 1034, 1058, 1, 1069, 1065, 1072, 1050, 1077, 1083, 1017, 1095, 1029, 1086, 1052, 1081, 1015, 1046, 1063, 1047, 1018, 1057, 1019, 1004, 1079, 1041, 1030, 1040, 1037, 1044, 1006, 1024, 1036, 1022, 1013, 1055, 1071, 1085, 1001, 1064, 1032, 1080, 1021, 1045, 1089, 1062, 1042, 1053, 1054, 1025, 1067, 1075, 1033, 1090, 1060, 1008, 1091, 1038, 1070, 1028, 1092, 1088, 1023, 1078, 1082, 1035, 1076, 1009, 1100, 1003, 1099, 1031, 1096, 1098, 1020, 1010, 1002, 1049, 1026, 1005, 1014], 37: [15051, 17084, 26041, 18009, 15030, 18028, 18053, 16084, 15026, 17092, 16007, 15093, 17096, 18014, 26030, 17064, 18026, 15023, 26067, 16031, 17078, 18064, 26039, 26029, 26024, 16015, 16037, 17049, 17066, 18078, 16056, 17075, 17088, 17051, 16020, 16092, 16100, 26040, 15002, 17091, 18031, 16026, 17021, 18052, 18068, 18040, 16073, 26019, 16021, 16010, 16062, 16068, 17089, 26028, 17097, 16032, 16094, 17011, 26083, 18049, 17024, 15016, 18062, 18094, 15033, 16081, 18035, 18080, 18012, 18001, 18099, 26006, 15069, 17037, 26053, 17074, 26084, 18086, 26035, 16058, 16066, 15058, 15007, 26032, 18073, 18022, 26048, 15077, 17041, 16054, 18008, 18044, 15048, 16013, 16078, 16070, 18088, 16028, 17029, 26080, 16001, 26013, 18083, 15094, 17012, 16006, 26087, 17094, 16004, 18059, 15092, 17086, 17073, 26085, 26025, 16086, 26038, 15040, 18029, 26075, 16088, 16072, 16085, 15071, 16067, 18038, 16018, 26034, 17076, 15042, 26020, 17069, 17085, 18042, 26047, 16051, 16003, 18039, 17082, 26091, 16016, 18097, 15067, 26055, 15089, 16046, 17026, 15084, 17034, 17032, 15064, 18018, 17003, 18017, 18060, 18085, 26058, 26033, 18067, 15054, 16027, 26093, 26050, 26057, 18034, 18033, 16096, 15087, 15024, 17015, 26037, 15029, 16055, 18058, 17040, 17025, 15086, 17067, 17059, 18045, 15037, 16071, 26008, 17095, 17031, 17017, 15098, 17046, 17004, 18041, 26045, 16064, 26070, 17050, 16005, 18092, 18015, 16019, 15065, 17043, 18004, 26010, 17060, 18057, 26003, 15050, 18048, 26005, 17087, 15012, 16033, 16039, 16098, 16082, 17081, 26088, 16024, 16076, 16080, 26076, 18075, 16075, 18063, 16065, 16095, 17022, 26066, 17090, 17045, 26002, 15044, 26064, 26056, 18024, 15010, 26054, 17070, 17036, 15018, 17002, 15014, 17042, 17016, 26001, 16030, 18069, 15035, 26022, 26081, 18019, 17055, 26061, 16099, 18023, 18065, 17079, 18066, 16087, 26069, 16041, 26051, 26098, 16093, 17100, 16014, 15025, 26097, 16061, 16057, 18070, 26063, 17030, 16089, 26078, 18071, 26059, 15034, 17007, 26079, 26044, 26077, 26031, 15028, 17005, 18081, 17023, 18087, 17056, 16017, 18002, 18093, 18089, 17014, 26073, 16091, 16079, 17033, 17080, 18016, 16034, 17019, 17057, 18096, 18061, 16047, 18047, 16077, 18098, 18095, 16023, 17009, 17047, 26017, 26015, 26004, 18082, 16044, 15076, 26016, 26090, 16045, 17039, 18054, 15021, 15003, 17053, 17020, 15072, 18084, 26043, 18100, 18091, 15080, 26092, 26007, 26021, 18051, 16048, 18090, 18011, 26023, 16050, 16083, 18021, 18056, 26089, 18003, 15027, 17010, 26100, 16043, 17068, 26094, 15017, 17052, 26099, 15060, 18072, 26046, 16090, 17071, 17063, 16035, 17077, 15036, 15082, 16052, 16012, 18027, 15085, 26012, 26036, 15073, 26071, 15059, 15008, 15032, 15079, 18055, 15088, 26074, 26011, 9, 26052, 15038, 18074, 26042, 16074, 17027, 16011, 17028, 26009, 26096, 26060, 26082, 16025, 15001, 18032, 26027, 16022, 26095, 16097, 17062, 17065, 16002, 16008, 15043, 18076, 17035, 15047, 17018, 15053, 16036, 18077, 17006, 16009, 16040, 15019, 15009, 15062, 15013, 17098, 18043, 18006, 15061, 17083, 16038, 17038, 17001, 15039, 16029, 18037, 26026, 26018, 15056, 18079, 15066, 17099, 15095, 16059, 18050, 15096, 15041, 18013, 15020, 26014, 15068, 16063, 15063, 15022, 15083, 15031, 15057, 15099, 17058, 26072, 15090, 15100, 18030, 17013, 15045, 26065, 16042, 17054, 18020, 16060, 15081, 18025, 16069, 15097, 15074, 15055, 15070, 17061, 26049, 15091, 18046, 18005, 17008, 16053, 15075, 26062, 18007, 15011, 18010, 26068, 15005, 15006, 15004, 17072, 15052, 17093, 18036, 17044, 16049, 15078, 15049, 26086, 15015, 17048, 15046], 40: [19039, 19025, 19030, 19099, 19040, 19015, 19100, 19043, 19026, 19064, 19003, 19095, 19011, 19012, 19098, 19017, 19010, 19006, 19041, 19094, 19090, 19021, 19042, 19060, 19072, 19049, 19079, 19082, 19023, 19013, 19087, 19008, 19084, 19050, 19059, 19078, 19086, 19092, 19047, 19005, 19009, 19067, 19091, 19035, 19038, 19068, 19053, 19089, 19031, 19019, 19024, 19054, 19057, 19001, 19096, 19007, 19070, 19014, 19020, 19036, 19080, 19004, 19045, 19051, 19033, 19083, 19056, 19076, 19085, 19018, 19032, 19066, 19037, 19073, 19061, 19058, 19055, 19074, 19071, 19063, 19097, 19075, 19069, 19052, 19077, 19046, 19044, 19002, 19022, 19081, 19048, 19034, 19029, 19088, 19065, 19093, 19027, 19062, 19028, 19016], 10: [2043, 3044, 20073, 3009, 3096, 3077, 3066, 3082, 3056, 3017, 3028, 3030, 3023, 3058, 3061, 3011, 3003, 3004, 3050, 3075, 3010, 3057, 20021, 3021, 3068, 3031, 3034, 3025, 3008, 3026, 3045, 3074, 3062, 3053, 3007, 3071, 3095, 3070, 3094, 3060, 3016, 20065, 3020, 3080, 3086, 2090, 21100, 20005, 3055, 3027, 3035, 3046, 3067, 3005, 3036, 3001, 3089, 3013, 3051, 3032, 3054, 3049, 3024, 3018, 3019, 3098, 3043, 3052, 21077, 3083, 3085, 3042, 3059, 20032, 3100, 3069, 3072, 3090, 21018, 3037, 3087, 3084, 3065, 3073, 3063, 3041, 2076, 21051, 3099, 3039, 21041, 21044, 3092, 20059, 21014, 2017, 3012, 2077, 20079, 20094, 3081, 3033, 20090, 3093, 2058, 3078, 3088, 20087, 2100, 20025, 3014, 20019, 20012, 3015, 3048, 3091, 2069, 20022, 3002, 3040, 21026, 21049, 21021, 2002, 2023, 20072, 3006, 3047, 2054, 2015, 2044, 2005, 20062, 21039, 2064, 21046, 3097, 2078, 21030, 21024, 21045, 21055, 3022, 20061, 21034, 21042, 20055, 21067, 2006, 3029, 21073, 20033, 20027, 3079, 3064, 2046, 2035, 21015, 20039, 2061, 21086, 21003, 20002, 2007, 21019, 2084, 20049, 21035, 20016, 21016, 20052, 21090, 21085, 2092, 21064, 21036, 20084, 21020, 3076, 2062, 20014, 21053, 2022, 2056, 21012, 20023, 20083, 2019, 2029, 21083, 2073, 20089, 2095, 20024, 3038, 2082, 21033, 2096, 21027, 21060, 20031, 21057, 20099, 2050, 20085, 2097, 2041, 21001, 21029, 21084, 2036, 2020, 2079, 2087, 21023, 20028, 21091, 2045, 2011, 2031, 21087, 21006, 21038, 21082, 20003, 21040, 2059, 21013, 20029, 20008, 2033, 21069, 2063, 20015, 2048, 21062, 2072, 2025, 21097, 20080, 21068, 20048, 20037, 2010, 20081, 21092, 20075, 20011, 21076, 20053, 21047, 20095, 2049, 2080, 21075, 2068, 20058, 2052, 20078, 21011, 2060, 21095, 20088, 20013, 20001, 21028, 20057, 2074, 20007, 20040, 21007, 21061, 21088, 20051, 20026, 2013, 21071, 2047, 2004, 2085, 21074, 2012, 20036, 20086, 2089, 2001, 21079, 21031, 2008, 21017, 21094, 20076, 21072, 21010, 2028, 21008, 21065, 20068, 20047, 2071, 2081, 20030, 20091, 2053, 20082, 21089, 20070, 2051, 20071, 21059, 2040, 21054, 21004, 21050, 2067, 20097, 21005, 21070, 2003, 2055, 21081, 20042, 2039, 20074, 21056, 21058, 2066, 21066, 20077, 20004, 20060, 21080, 21098, 2042, 20100, 20018, 20054, 2098, 20066, 2027, 20035, 21078, 20092, 20044, 2088, 21022, 20006, 2014, 2016, 2018, 20041, 2093, 21093, 20020, 20046, 2038, 2065, 20009, 21037, 2034, 21096, 20093, 2094, 2021, 20050, 2070, 21009, 20056, 2030, 20064, 2032, 2083, 20017, 20010, 20069, 2086, 2099, 20043, 2009, 20034, 20063, 21099, 2024, 21052, 21048, 2075, 21025, 2057, 20045, 2091, 21032, 2026, 20096, 21002, 20067, 21043, 20038, 21063, 20098, 2037], 14: [22089, 22016, 4052, 4094, 4040, 22099, 4056, 22011, 4023, 4001, 22070, 4021, 22083, 22065, 22004, 4076, 26, 4055, 22028, 4057, 22022, 22017, 22057, 22055, 4034, 22047, 4048, 4036, 22067, 4014, 4029, 4038, 22037, 4028, 22071, 22068, 4083, 4099, 4087, 4086, 22058, 22020, 4035, 22084, 4045, 4010, 4098, 4075, 22074, 4090, 4082, 4054, 22081, 22009, 22093, 4062, 22064, 22049, 4049, 22076, 57, 4033, 22041, 4008, 22030, 4017, 4096, 22092, 4072, 22056, 22032, 4084, 22059, 22027, 22077, 22044, 22026, 4053, 4022, 22097, 22038, 4061, 22031, 22036, 4003, 22005, 4091, 4004, 4100, 22006, 4025, 22052, 4092, 22060, 22091, 4015, 22018, 22010, 22034, 22007, 22019, 4063, 22061, 22075, 4009, 22072, 22039, 22023, 4065, 4080, 22087, 4020, 22062, 22040, 22043, 4081, 4079, 22078, 22025, 4027, 4095, 22029, 4039, 22013, 4066, 4002, 22098, 4070, 4074, 22002, 22073, 4051, 22094, 4041, 22082, 4005, 4088, 22053, 4030, 4085, 22088, 22050, 22024, 4019, 22079, 22014, 22069, 4077, 4047, 4071, 4093, 60, 22048, 4042, 22046, 4011, 22021, 22003, 22066, 4043, 4064, 4013, 22015, 22054, 4073, 4067, 22008, 22051, 22042, 4037, 22080, 4050, 22001, 22035, 4060, 4007, 4024, 4044, 4068, 4046, 4016, 22033, 22095, 22085, 22096, 4097, 4031, 22012, 4058, 4069, 4026, 4006, 22045, 4059, 22086, 4012, 4089, 4032, 4018, 22090, 22063, 4078, 22100], 15: [5030, 5056, 5006, 5025, 5039, 5029, 5049, 5074, 5059, 5045, 5002, 5051, 5020, 5081, 5087, 5071, 5084, 5047, 5023, 5005, 5046, 5091, 5001, 5097, 5038, 5042, 5015, 5090, 5065, 5060, 5055, 5037, 5072, 5099, 5096, 5014, 5058, 5094, 5067, 5063, 5073, 5068, 5032, 5092, 5061, 5054, 5022, 5016, 5033, 5062, 5008, 53, 5011, 5050, 5019, 5098, 5052, 5044, 5075, 5031, 5064, 5009, 5007, 5035, 5083, 5017, 5078, 5021, 5034, 5079, 5053, 5040, 5100, 5057, 5026, 5004, 5088, 5086, 5077, 5048, 5018, 5070, 5093, 5085, 5013, 5003, 5082, 5076, 5028, 5069, 5066, 5095, 5043, 5024, 5012, 5010, 5027, 5036, 5089, 5080, 5041], 49: [23056, 23016, 23057, 23073, 23007, 42, 23029, 23074, 23093, 23095, 23091, 23071, 23019, 23084, 23032, 23035, 23010, 23053, 23036, 23048, 23004, 23042, 23009, 23018, 23030, 23021, 23070, 23031, 23037, 23063, 23062, 23094, 23001, 23039, 23083, 23082, 23011, 23059, 23068, 23067, 23049, 23006, 23076, 48, 23026, 23089, 23024, 23099, 23078, 23022, 23033, 23013, 23086, 23088, 23055, 23023, 50, 23080, 23072, 23100, 23061, 23097, 23014, 23045, 23002, 23054, 23043, 23008, 23060, 23027, 23012, 23041, 23081, 23069, 23015, 23065, 23085, 23079, 23034, 23050, 23038, 23064, 23028, 23096, 23017, 23092, 23058, 32, 23020, 23090, 23005, 23052, 23044, 23098, 23047, 23077, 23087, 23025, 23075, 23003, 23066, 23040, 47, 23046, 23051], 18: [7090, 7055, 7005, 7004, 7087, 7085, 7067, 7006, 7028, 7059, 7043, 7088, 7070, 7082, 7054, 7010, 7069, 7053, 7073, 7095, 7034, 7076, 7042, 7097, 7016, 7023, 7060, 7078, 7009, 7003, 7094, 7077, 7031, 7074, 7021, 7079, 7049, 7029, 7015, 7002, 7019, 7061, 7012, 7051, 7063, 7081, 7039, 43, 7014, 7038, 41, 7047, 7072, 7099, 7007, 7045, 7027, 7001, 7033, 7048, 7044, 7008, 7093, 7096, 7032, 7046, 7018, 7013, 7035, 7092, 7083, 7011, 7056, 7040, 7037, 7080, 7068, 7024, 7052, 7036, 7026, 7084, 7050, 7020, 7065, 7017, 7100, 7062, 7057, 7025, 7089, 7030, 7098, 7071, 7041, 7066, 7064, 7075, 7058, 7022, 7086, 7091], 21: [9097, 9036, 10037, 8061, 9007, 9064, 8008, 10011, 8040, 8079, 8028, 10063, 10095, 8005, 10070, 9050, 9066, 9058, 9010, 10030, 10018, 8070, 10034, 8043, 9028, 10021, 9083, 8073, 8088, 10008, 8033, 8006, 10088, 10026, 9055, 8062, 10097, 9094, 10045, 10052, 8001, 9009, 9090, 9088, 9033, 8086, 10066, 9043, 10068, 10059, 9072, 9016, 10060, 10036, 9071, 9019, 10069, 10009, 8087, 9089, 9084, 8059, 10047, 8044, 8072, 9078, 8015, 8047, 10028, 10055, 9085, 9099, 10016, 8009, 8055, 8037, 10093, 8011, 10023, 8074, 8041, 10076, 9024, 10072, 9008, 8042, 8056, 9029, 8012, 9003, 10058, 10074, 8021, 9076, 9037, 9001, 9073, 9063, 10086, 9067, 10039, 9086, 8091, 8010, 10049, 8090, 8068, 9093, 8076, 9095, 9042, 10033, 8007, 10079, 9060, 10078, 9005, 10082, 8045, 9054, 10031, 9087, 8022, 8065, 10001, 8029, 10064, 10081, 10020, 9045, 9025, 8025, 8097, 9057, 8026, 8094, 9023, 8064, 8032, 10013, 10050, 8002, 9049, 9044, 10027, 8066, 10043, 10002, 9098, 10010, 8050, 8081, 9096, 10065, 10056, 9013, 10042, 9040, 9068, 8077, 8080, 10100, 8023, 10071, 19, 9014, 9032, 8095, 8046, 8092, 9035, 10062, 10087, 9065, 9011, 10067, 10038, 10029, 8085, 10077, 10083, 8098, 9091, 10022, 10094, 9056, 8051, 8075, 9100, 9041, 10005, 8093, 8018, 9080, 9039, 9059, 8035, 10061, 8052, 8096, 9075, 10075, 9069, 9046, 10080, 8031, 10084, 10007, 9062, 8019, 10019, 9012, 10025, 9070, 9081, 8, 9048, 10092, 8063, 8053, 9030, 10017, 8049, 10035, 8067, 8082, 9052, 10085, 8071, 10073, 8083, 8084, 10004, 10089, 10032, 8039, 9079, 9074, 12, 10003, 10099, 9027, 8027, 10098, 8048, 9053, 10054, 9015, 8054, 8016, 10090, 9020, 9061, 9077, 9034, 8089, 10057, 9022, 10014, 8099, 8024, 9021, 9031, 10006, 10053, 8004, 8038, 10040, 8017, 9051, 10096, 10051, 10012, 8030, 10015, 8014, 9092, 10046, 8036, 8060, 10044, 8034, 8058, 10048, 9047, 9082, 8020, 9017, 10091, 9006, 9026, 9004, 8057, 10024, 9002, 9038, 8013, 8069, 8100, 9018, 10041, 8078, 8003], 55: [24046, 2023, 24053, 21001, 24058, 20066, 24019, 20026, 2041, 2079, 20091, 2020, 21094, 24021, 21092, 2032, 20004, 20002, 24002, 24093, 20061, 20017, 21069, 20037, 2011, 24057, 21012, 2042, 2017, 21095, 20036, 20083, 2053, 2043, 2085, 24035, 24082, 20018, 21002, 21078, 20076, 2077, 20100, 21084, 20057, 20094, 20049, 21098, 2046, 2090, 21030, 20081, 24032, 2060, 20095, 2086, 24006, 24020, 21039, 20008, 24036, 24052, 20068, 20069, 20023, 21051, 24090, 21079, 2028, 20086, 2097, 21006, 21040, 20034, 24040, 20099, 24001, 24008, 24072, 21009, 24080, 2059, 21076, 21061, 21028, 21034, 20060, 21038, 2089, 21025, 21044, 24094, 2088, 24077, 21050, 20005, 24088, 20020, 20055, 21077, 20088, 20072, 2063, 2036, 21073, 21045, 2049, 20028, 2094, 20042, 24068, 21097, 2027, 2058, 20046, 20021, 2018, 21018, 20082, 20075, 21047, 2052, 2054, 24030, 2031, 21096, 20022, 20063, 20077, 20085, 2029, 24010, 21049, 2092, 21089, 21099, 21013, 21090, 24027, 20012, 20040, 24014, 2009, 24092, 24039, 20047, 20033, 2048, 21007, 20006, 21060, 21031, 2010, 21083, 24065, 21065, 2013, 2074, 24089, 21086, 2007, 24060, 20056, 24037, 2003, 24005, 2099, 24033, 24042, 20098, 20062, 20015, 20096, 24078, 2034, 24041, 21053, 2021, 21020, 21032, 20052, 24085, 2025, 21081, 24048, 20009, 21054, 20093, 20044, 20035, 2078, 2006, 2061, 2056, 20092, 21005, 21062, 24079, 24066, 2055, 2016, 20074, 24070, 2008, 2068, 28, 2096, 21080, 24049, 20078, 24004, 24056, 21055, 21024, 21023, 24096, 2001, 24025, 20071, 20084, 2035, 20065, 20041, 24059, 2080, 2039, 21037, 21058, 24062, 20032, 21048, 24087, 24086, 21017, 21015, 2002, 24023, 11, 20011, 2076, 21029, 24043, 21042, 24026, 21057, 24099, 2047, 24063, 2072, 2082, 24011, 2057, 21085, 21066, 21088, 20016, 2093, 20014, 2087, 21087, 24031, 24012, 24054, 24013, 2081, 20001, 20038, 2014, 2066, 24076, 2024, 2051, 20079, 21070, 2026, 20013, 21019, 21041, 21026, 20053, 21014, 24064, 24018, 20054, 21033, 2069, 2084, 24084, 2022, 2070, 24024, 21074, 21056, 24100, 2045, 2062, 20019, 20059, 24047, 24067, 2037, 21052, 20043, 2040, 21063, 20064, 2019, 21043, 2038, 24073, 21008, 24028, 2065, 2095, 24061, 24038, 24055, 20051, 2083, 2100, 21016, 2050, 20039, 24091, 24007, 21075, 21021, 20003, 24003, 21082, 24022, 21010, 21011, 21003, 24044, 20029, 24015, 20080, 21022, 21035, 2044, 24071, 24075, 21067, 21059, 24009, 20097, 2012, 21091, 24069, 20024, 2015, 24050, 2004, 2067, 21036, 21100, 21004, 21046, 21093, 21071, 2071, 20030, 24074, 20087, 24045, 20045, 20089, 20027, 24098, 20031, 24097, 20090, 21068, 21027, 2033, 24029, 20025, 2030, 2098, 24016, 20050, 20073, 24017, 24081, 2075, 24095, 24034, 24051, 2091, 20010, 20007, 20070, 21072, 2005, 20048, 20067, 2073, 2064, 24083, 21064, 20058], 56: [25074, 25086, 6031, 25056, 25098, 6062, 25028, 25035, 25091, 25080, 25034, 25068, 25097, 6084, 25004, 6099, 25087, 25081, 25021, 6072, 25085, 25017, 25030, 25088, 6069, 6003, 25062, 6042, 25025, 25036, 6005, 25095, 25042, 25044, 6033, 25045, 6002, 25049, 6014, 25061, 25092, 25054, 25078, 25003, 25002, 25058, 25013, 6089, 25029, 25010, 6066, 25089, 25099, 6023, 6052, 25077, 25027, 25071, 6039, 25001, 25079, 25051, 25031, 25057, 6051, 25052, 25053, 25082, 25060, 25059, 25094, 6068, 25039, 25019, 25075, 25093, 6083, 25041, 25090, 25038, 25043, 6001, 25008, 25023, 6090, 6086, 6028, 6027, 25076, 6047, 6085, 25012, 25070, 25006, 6016, 25084, 6081, 25009, 6087, 25073, 25007, 6010, 25064, 25065, 6076, 25072, 25026, 6064, 25033, 6043, 6050, 6030, 25100, 25018, 6058, 6044, 25015, 25032, 6004, 6017, 25037, 25048, 25040, 25083, 6070, 6036, 6045, 6011, 25050, 25020, 6037, 25063, 25067, 6067, 25005, 25011, 6071, 6100, 6095, 6074, 6060, 25014, 6022, 25066, 25069, 6080, 25047, 6077, 6026, 6094, 6054, 6093, 25022, 6012, 6065, 6015, 6029, 6009, 6040, 6097, 6048, 25016, 25096, 25046, 6098, 6021, 6038, 6061, 6025, 25024, 6032, 6096, 6041, 6059, 6088, 6046, 6055, 6019, 6082, 25055, 6034, 6079, 6053, 6075, 6035, 6020, 6013, 6063, 6057, 6092, 6049, 6056, 6073, 6008, 6078, 6024, 6007, 6006, 6091, 6018], 59: [27061, 27017, 27084, 27035, 18082, 27026, 27048, 27029, 27087, 27033, 27090, 27065, 27013, 27028, 27042, 27016, 27072, 27056, 27019, 27077, 27062, 27043, 18047, 27052, 27099, 27030, 27082, 27059, 27047, 27079, 27023, 18039, 27096, 27002, 27100, 27044, 27037, 27008, 18045, 27083, 27001, 18075, 27088, 27022, 27049, 27040, 27011, 27070, 27058, 27004, 27018, 27012, 27076, 27080, 18087, 18038, 27005, 27024, 27064, 27039, 27063, 27092, 27053, 27066, 27086, 27046, 18043, 27074, 18018, 27032, 27093, 27014, 27098, 27068, 27085, 27021, 27025, 27097, 27006, 27007, 27009, 27010, 18010, 27054, 27057, 27034, 27091, 18083, 27073, 27071, 18073, 27027, 27094, 18055, 27078, 27069, 27050, 27067, 27060, 18063, 27075, 27036, 27031, 27041, 18066, 27015, 27081, 18040, 18008, 18076, 18017, 18011, 18002, 18004, 27020, 27038, 18086, 27051, 18051, 18072, 27095, 18007, 27089, 27003, 18028, 18071, 18081, 18037, 18067, 18065, 27055, 18022, 18092, 18003, 27045, 18091, 18036, 18093, 18049, 18019, 18023, 18029, 18005, 18056, 18088, 18074, 18090, 18094, 18035, 18042, 18015, 18061, 18095, 18001, 18054, 18097, 18077, 18057, 18009, 18085, 18020, 18013, 18098, 18026, 18034, 18033, 18041, 18006, 18060, 18044, 18021, 18032, 18014, 18068, 18099, 18046, 18070, 18100, 18052, 18079, 18064, 18058, 18048, 18084, 18016, 18031, 18062, 18078, 18059, 18025, 18027, 18030, 18024, 18050, 18069, 18089, 18096, 18053, 18080, 18012], 29: [11056, 11010, 11006, 11044, 11003, 11094, 11039, 11046, 11081, 11033, 11097, 11031, 11053, 11015, 11057, 11013, 11016, 11075, 11012, 11054, 11017, 11004, 11025, 11092, 11080, 11028, 11077, 11043, 11037, 11007, 11059, 11030, 11062, 11005, 11014, 11083, 11045, 11027, 11042, 11022, 11024, 11048, 11084, 11093, 11034, 11066, 11019, 11088, 11064, 11072, 11035, 30, 11060, 11047, 11001, 11020, 11096, 11063, 11069, 11009, 11055, 11023, 11095, 11071, 11021, 11002, 11091, 11067, 11049, 11099, 11058, 11078, 11100, 11008, 11089, 11038, 11041, 11098, 11079, 11087, 11051, 11068, 11029, 11032, 11011, 11065, 11018, 11026, 11050, 11085, 11073, 11086, 11052, 11070, 11036, 11061, 11040, 11076, 11082, 11090, 11074]}

g_GEANT = {3: [10, 19], 36: [37], 9: [18], 12: [20], 13: [11], 22: [26], 27: [21]}
g_TISCALI = {198: [262, 452, 509, 567, 534, 394], 214: [534, 567, 452, 394, 509], 226: [459, 443, 444, 440, 567, 426, 452, 451, 534, 394, 509], 228: [567, 452, 509, 534], 229: [451, 452, 459, 460, 426, 567, 509, 534, 394], 390: [528, 525, 527, 567, 394, 509, 534, 452], 327: [394, 338, 553, 361, 543, 551, 513, 548, 534, 509, 567, 452], 201: [262, 534, 394, 567, 452], 203: [204, 262, 452, 394, 509, 567, 534], 207: [567, 204, 248, 534, 394, 509, 452], 208: [248, 394, 567, 534, 509], 209: [567, 509, 394, 534, 452], 340: [516, 534, 452, 567, 394, 509], 438: [442, 453, 446, 509, 534, 567, 394, 452], 439: [446, 453, 442, 458, 441, 452, 567, 534, 394, 509], 153: [548, 513, 394, 543, 361, 551, 367, 547, 522, 509, 364, 553, 523, 452, 567, 534], 217: [248, 394, 452, 509, 534, 567], 197: [262, 394, 567, 509, 452, 534]}



GROUP_OF_USER = g_GEANT

# Number of content objects
N_CONTENTS = 3*10**4

# Number of requests per second (over the whole network)
NETWORK_REQUEST_RATE = 50.0

# Number of content requests generated to prepopulate the caches
# These requests are not logged
N_WARMUP_REQUESTS = 3*10**4

# Number of content requests generated after the warmup and logged
# to generate results.
N_MEASURED_REQUESTS = 6*10**4

# List of all implemented topologies
# Topology implementations are located in ./icarus/scenarios/topology.py
TOPOLOGIES =  [
#               'ROCKET_FUEL'
#               'GEANT'#,
#               'DATACENTER'
               'GEANT'
#               'GARR',
#               'TISCALI'
               ]

#ASNS = [
        #1221#,
        #1239,
        #1755,
        #3257,
        #3967,
        #6461
        #]


# List of caching and routing strategies
# The code is located in ./icarus/models/strategy.py
STRATEGIES = [
              'EDGE'
              #'EDGE'
              #'HR_SYMM',         # Symmetric hash-routing
              #'HR_ASYMM',        # Asymmetric hash-routing
              #'HR_MULTICAST',    # Multicast hash-routing
              #'HR_HYBRID_AM',    # Hybrid Asymm-Multicast hash-routing
              #'HR_HYBRID_SM',    # Hybrid Symm-Multicast hash-routing
              #'CL4M',            # Cache less for more
              #'PROB_CACHE',      # ProbCache
              #'LCD',             # Leave Copy Down
              #'RAND_CHOICE',     # Random choice: cache in one random cache on path
              #'RAND_BERNOULLI'  # Random Bernoulli: cache randomly in caches on path
              ]

WORKLOADS = [
#             'ALLSAME',
#	     'DIFFALPHA',
#	     'GROUPDIFFALPHA',	
             'DIFFRANK',
             'GROUPDIFFRANK',
             'ALLDIFF',
             'GROUPALLDIFFRANK',
             'GROUPALLDIFF'
            ]

# Cache replacement policy used by the network caches.
# Supported policies are: 'LRU', 'LFU', 'FIFO', 'RAND' and 'NULL'
# Cache policy implmentations are located in ./icarus/models/cache.py
CACHE_POLICY = 'LRU'

RANK_SUM = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
RANK_DIFF = [0.2]

# Queue of experiments
EXPERIMENT_QUEUE = deque()
default = Tree()

#default['topology']['name'] = 'ROCKET_FUEL'
#default['topology']['asn'] = 1755

default['test_strategy'] = {
                            'name': 'EDGE'
                            }



default['workload'] = {
#                        'name':      'GROUP',
#                        'rank_diff': RANK_DIFF,
                        'n_contents': N_CONTENTS,
                        'group_of_user': GROUP_OF_USER,
                        #'rank_diff': RANK_DIFF,
                        'n_warmup':   N_WARMUP_REQUESTS,
                        'n_measured': N_MEASURED_REQUESTS,
                        'rate':       NETWORK_REQUEST_RATE
                        }
default['cache_placement']['name'] = 'UNIFORM'
#decide the size of cache in each icr_candidate
default['content_placement']['name'] = 'UNIFORM'
#decide the content in each source
default['cache_policy']['name'] = CACHE_POLICY

# Create experiments multiplexing all desired parameters
for rank_sum in RANK_SUM:
    for alpha in ALPHA:
        for network_cache in NETWORK_CACHE:
            for topology in TOPOLOGIES:
                for strategy in STRATEGIES:
                    for diff in DIFF:
                        for workload in WORKLOADS:
                            for rank_diff in RANK_DIFF:
                                for network_cache in NETWORK_CACHE:

                                        experiment = copy.deepcopy(default)
                                        experiment['topology']['name'] = topology
                                        experiment['workload']['name'] = workload
                                        experiment['workload']['rank_diff'] = rank_diff
                                        experiment['workload']['rank_sum'] = rank_sum
                                        experiment['workload']['network_cache'] = network_cache
                                        experiment['workload']['diff'] = diff
                                        experiment['workload']['alpha'] = alpha
                                        experiment['strategy']['name'] = strategy
                                        #experiment['topology']['asn'] = asn
                                        experiment['cache_placement']['network_cache'] = network_cache
                                        experiment['desc'] = "topology: %s, strategy: %s, diff: %s, Alpha: %s, rank_sum: %s, workload :%s, rank_diff: %s,  network cache: %s" \
                                    % (topology, strategy, str(diff), str(alpha), str(rank_sum), workload, str(rank_diff), str(network_cache))
                                EXPERIMENT_QUEUE.append(experiment)
